<template>
    <div class="slds-grid slds-gutters slds-grid_vertical-align-start slds-gutters_xx-small">
        <builder_platform_interaction-combobox class="lhs slds-col slds-grow"
                                               label={lhsLabel}
                                               value={lhsValue}
                                               menu-data={state.lhsFilteredMenuData}
                                               placeholder={lhsPlaceholder}
                                               error-message={lhsError}
                                               literals-allowed=false
                                               oncomboboxstatechanged={handleLhsValueChanged}
                                               onfiltermatches={handleFilterLhsMatches}
                                               onfetchmenudata={handleFetchLhsMenuData}
                                               onitemselected={handleLhsItemSelected}
                                               enable-field-drilldown
        >
        </builder_platform_interaction-combobox>
        <lightning-combobox if:false={hideOperator} class="operator slds-col slds-grow slds-size_x-small"
                            label={operatorLabel}
                            value={operatorValue}
                            placeholder={operatorPlaceholder}
                            options={operatorMenuData}
                            onchange={handleOperatorChanged}
                            dropdown-alignment="auto"
                            disabled={state.operatorAndRhsDisabled}
        >
        </lightning-combobox>
        <div if:true={showOperatorIcon} class="slds-col slds-grow-none">
            <span class="slds-form-element__label slds-is-visually-empty">&nbsp;</span>
            <div class="slds-line-height_reset slds-p-vertical_x-small">
                <lightning-icon
                    icon-name={operatorIconName}
                    size="x-small">
                </lightning-icon>
            </div>
        </div>
        <builder_platform_interaction-combobox class="rhs slds-col slds-grow"
                                               label={rhsLabel}
                                               value={rhsValue}
                                               allowed-param-types={rhsParamTypes}
                                               menu-data={state.rhsFilteredMenuData}
                                               placeholder={rhsPlaceholder}
                                               literals-allowed={rhsLiteralsAllowed}
                                               error-message={rhsError}
                                               type={rhsDataType}
                                               oncomboboxstatechanged={handleRhsValueChanged}
                                               onfiltermatches={handleFilterRhsMatches}
                                               onfetchmenudata={handleFetchRhsMenuData}
                                               disabled={state.operatorAndRhsDisabled}
                                               block-validation={blockRhsValidation}
                                               enable-field-drilldown
        >
        </builder_platform_interaction-combobox>
    </div>
</template>
