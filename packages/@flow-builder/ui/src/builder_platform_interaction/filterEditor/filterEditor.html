<template>
    <div class="slds-m-around_medium">
        <h3 class="slds-text-heading_small slds-p-bottom_small">{labels.filterCollectionHeading}</h3>
        <div class="slds-grid slds-grid_vertical-align-center">
            <span>{labels.selectCollection}</span>
        </div>

        <div class="slds-size_medium">
            <builder_platform_interaction-input-collection-picker
                label={labels.inputCollection}
                placeholder={labels.inputCollectionPlaceholder}
                collection-reference={filterElement.collectionReference}
                collection-processor-filter={collectionProcessorFilter}
                oncollectionreferencechanged={handleCollectionVariablePropertyChange}
            ></builder_platform_interaction-input-collection-picker>
        </div>

        <div if:true={showFilter}>
            <div class="slds-m-top_small slds-border_top">
                <h3 class="slds-text-heading_small slds-p-vertical_small">{labels.conditionListTitle}</h3>
                <builder_platform_interaction-filter-condition-list
                    element-guid={filterElement.guid}
                    conditions={filterElement.conditions}
                    condition-logic={filterElement.conditionLogic}
                    formula={filterElement.formula}
                    show-prefix
                    sobject-or-apex-reference={sObjectOrApexReference}
                    collection-reference-display-text={collectionReferenceDisplayText}
                    onaddcondition={handleFilterConditionChange}
                    onupdatecondition={handleFilterConditionChange}
                    ondeletecondition={handleFilterConditionChange}
                    onpropertychanged={handleFilterConditionChange}
                >
                </builder_platform_interaction-filter-condition-list>
            </div>
        </div>
    </div>
</template>
