<template>
    <div if:true={field}>
        <div class='slds-p-horizontal_small slds-p-top_x-small'>
            <!--  field label -->
            <!--  TODO: W-4947221 - make sure the combobox pulls in only string supported resources -->
            <builder_platform_interaction-combobox label={labels.fieldLabel}
                                                   literals-allowed
                                                   type='String'
                                                   value={fieldLabel}
                                                   oncomboboxstatechanged={handleInputLabelChanged}
                                                   onfetchmenudata={handleFetchMenuData}>
            </builder_platform_interaction-combobox>                             
            
            <!--  unique name -->    
            <builder_platform_interaction-screen-property-field name='name' 
                                                                label={labels.fieldName}
                                                                required='required'
                                                                type='string'
                                                                value={field.name}
                                                                onpropertychanged={handlePropertyChanged}>
            </builder_platform_interaction-screen-property-field>

            <!--  Set or display the subtype for the input field -->
            <builder_platform_interaction-data-type-picker
                available-data-types={dataTypeList}
                type-and-collection-disabled={isSubTypeDisabled}
                required
                value={dataTypePickerValue}
                onvaluechanged={handleDataTypeChanged}>
            </builder_platform_interaction-data-type-picker>
 
            <!--  Required checkbox -->
            <!--  If the field type is checkbox, the 'Required' field is not present -->
            <builder_platform_interaction-screen-property-field if:false={isCheckbox}
                                                                name='isRequired' 
                                                                label={labels.required}
                                                                type='boolean'
                                                                value={field.isRequired}
                                                                onpropertychanged={handlePropertyChanged}>
            </builder_platform_interaction-screen-property-field>

            
            <!--  default value: drop down resource list -->
            <!--  TODO: W-4947221 - determine the menu data based on input type -->
            <!--  TODO: W-4947221- doesn't work yet for Date -->
            <!--  TODO: W-4947221- doesn't work yet for DateTime -->
            <!--  TODO: W-4947221- doesn't work yet for Checkbox -->
            <!--  TODO: W-4947221- Currency displays like a regular number -->
            <builder_platform_interaction-ferov-resource-picker combobox-config={resourceComboBoxConfig}
                                                                value={field.defaultValue}
                                                                element-config={elementConfig}
                                                                oncomboboxstatechanged={handleDefaultValueChanged}>
            </builder_platform_interaction-ferov-resource-picker>

            <!--  Scale, if input type supports this field -->
            <builder_platform_interaction-screen-property-field if:true={isScaleEnabled} 
                                                                name='scale' 
                                                                label={labels.fieldScale}
                                                                type='number'
                                                                value={field.scale}
                                                                onpropertychanged={handlePropertyChanged}>
            </builder_platform_interaction-screen-property-field>

            <!--  validation text -->
            <!--  TODO: W-4827695 - use lightning component version of accordion -->
            <builder_platform_interaction-accordion>
                <builder_platform_interaction-accordion-section>
                    <div slot="accordion-header">{labels.fieldValidation}</div>
                    <div slot="accordion-body">
                        <builder_platform_interaction-screen-property-field name='validationRule.errorMessage'
                                                                            label='Error Message'
                                                                            type='long_string'
                                                                            value={validationRuleError}
                                                                            onpropertychanged={handleErrorMessageChanged}>
                        </builder_platform_interaction-screen-property-field>
                        
                        <!-- TODO: W-5183123 - change this to formula-editor component -->
                        <builder_platform_interaction-screen-property-field name='validation' label='{labels.validationFormula}' type='long_string' value={validationRuleFormula}>
                        </builder_platform_interaction-screen-property-field>
                    </div>
                </builder_platform_interaction-accordion-section>
            </builder_platform_interaction-accordion>
            
            <!--  help text -->
            <builder_platform_interaction-accordion>
                <builder_platform_interaction-accordion-section>
                    <div slot="accordion-header">{labels.helpText}</div>
                    <div slot="accordion-body">
                        <builder_platform_interaction-screen-property-field name='helpText' label='{labels.helpText}' type='long_string' value={field.helpText}>
                        </builder_platform_interaction-screen-property-field>
                    </div>
                </builder_platform_interaction-accordion-section>
            </builder_platform_interaction-accordion>
        </div>
    </div>
</template>