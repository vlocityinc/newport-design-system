<template>
    <div class="slds-vertical-tabs slds-is-relative slds-grow">
        <div if:true={showWaitingSpinner}>
            <lightning-spinner variant="brand" alternative-text={labels.spinnerAlternativeText}></lightning-spinner>
        </div>

        <builder_platform_interaction-reorderable-vertical-navigation
            class="slds-theme_shade slds-size_1-of-6"
            menu-items={getMenuItems}
            active-item-id={activeMenuItemId}
            onlistiteminteraction={handleItemSelected}
            hide-footer="true"
        >
            <div slot="header" class="slds-grid">
                <span class="outcomeListHeader"></span>
            </div>
        </builder_platform_interaction-reorderable-vertical-navigation>
        <div
            class="flow-test-editor-tab-content slds-vertical-tabs__content slds-show slds-scrollable_y slds-size_5-of-6 slds-p-around_large"
            role="tabpanel"
        >
            <div class="slds-text-heading_small">{tabHeader}</div>
            <div class="slds-text-color_weak">{tabDescription}</div>
            <div if:true={isFlowTestDetailsActive}>
                <builder_platform_interaction-flow-test-details
                    label={flowTestObject.label}
                    dev-name={flowTestObject.name}
                    description={flowTestObject.description}
                    test-trigger-type={flowTestObject.testTriggerType.value}
                    trigger-save-type={triggerSaveType}
                    run-path-value={flowTestObject.runPathValue.value}
                    mode={mode}
                    onpropertychanged={handlePropertyChanged}
                    dev-name-prefix={devNamePrefix}
                >
                </builder_platform_interaction-flow-test-details>
            </div>
            <div if:true={isFlowTestAssertionActive}>
                <builder_platform_interaction-flow-test-assertion-editor
                    onaddlistitem={handlePropertyChanged}
                    ondeletelistitem={handlePropertyChanged}
                    onupdatetestassertion={handlePropertyChanged}
                    assertions-list={assertions}
                ></builder_platform_interaction-flow-test-assertion-editor>
            </div>
            <div if:true={isInitialRecordActive}>
                <builder_platform_interaction-flow-test-trigger-record-edit-form
                    record-data={initialRecordData}
                    object-api-name={objectApiName}
                    onupdatetestrecorddata={handlePropertyChanged}
                    selected-sample-record-id={sampleRecordId}
                    onflowtestrecordselected={handleTestRecordSelected}
                    onflowtestclearrecordform={handlePropertyChanged}
                ></builder_platform_interaction-flow-test-trigger-record-edit-form>
            </div>
            <div if:true={isUpdatedRecordActive}>
                <builder_platform_interaction-flow-test-trigger-record-edit-form
                    record-data={updatedRecordData}
                    object-api-name={objectApiName}
                    is-updated-record
                    onupdatetestrecorddata={handlePropertyChanged}
                    onflowtestclearrecordform={handlePropertyChanged}
                ></builder_platform_interaction-flow-test-trigger-record-edit-form>
            </div>
        </div>
    </div>
</template>
