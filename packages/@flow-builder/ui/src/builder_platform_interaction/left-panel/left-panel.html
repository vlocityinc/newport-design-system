<template>
    <div class="slds-panel__header slds-shrink-none">
        <lightning-button-icon if:true={showResourceDetailsPanel} variant="bare" size="medium" icon-name="utility:back" class="slds-icon_container slds-icon-utility-back slds-current-color" onclick={handleResourceDetailsBackLinkClicked} alternative-text={labels.RESOURCE_DETAILS_BACK_BUTTON_ATL_TEXT}></lightning-button-icon>
        <h2 class="slds-panel__header-title slds-text-heading_small">{getPanelTitle}</h2>
    </div>
    <div class="slds-panel__body slds-border_top slds-p-right_xxx-small">
        <builder_platform_interaction-tabset if:false={showResourceDetailsPanel} ontabchange={handleTabChange}>
            <!-- Tab items go into the unnamed slot. -->
            <builder_platform_interaction-tabitem tabid="left-panel-tabitem-elements" label={labels.LEFT_PANEL_ELEMENT_TAB_TEXT} controls="left-panel-tabcontent-elements" activeid={activetabid}></builder_platform_interaction-tabitem>
            <builder_platform_interaction-tabitem tabid="left-panel-tabitem-resources" label={labels.LEFT_PANEL_RESOURCE_TAB_TEXT} controls="left-panel-tabcontent-resources" activeid={activetabid}></builder_platform_interaction-tabitem>
            <div slot="contents" class="slds-scrollable_y">
                <builder_platform_interaction-tabcontent contentid="left-panel-tabcontent-elements" labelledby="left-panel-tabitem-elements" activeid={activetabid}>
                    <builder_platform_interaction-left-panel-elements></builder_platform_interaction-left-panel-elements>
                </builder_platform_interaction-tabcontent>
                <builder_platform_interaction-tabcontent contentid="left-panel-tabcontent-resources" labelledby="left-panel-tabitem-resources" activeid={activetabid}>
                    <builder_platform_interaction-left-panel-resources resources={resources} onpaletteitemclicked={handleResourceClicked} onpaletteitemchevronclicked={handlePaletteItemChevronClicked}></builder_platform_interaction-left-panel-resources>
                </builder_platform_interaction-tabcontent>
            </div>
        </builder_platform_interaction-tabset>
        <builder_platform_interaction-resource-details if:true={showResourceDetailsPanel} resourcedetails={resourceDetails}></builder_platform_interaction-resource-details>
    </div>
    <div if:true={showResourceDetailsPanel} class="slds-grid slds-grid_align-end slds-p-around_small slds-border_top slds-border_bottom">
        <div if:true={showDeleteButton} class="slds-col slds-p-horizontal_x-small">
            <lightning-button variant="Destructive" label={labels.RESOURCE_DETAILS_DELETE_BUTTON_TEXT} onclick={handleDeleteButtonClicked}></lightning-button>
        </div>
        <div class="slds-col slds-p-horizontal_x-small">
            <lightning-button variant="Brand" label={labels.RESOURCE_DETAILS_EDIT_BUTTON_TEXT} onclick={handleEditButtonClicked}></lightning-button>
        </div>
    </div>
</template>