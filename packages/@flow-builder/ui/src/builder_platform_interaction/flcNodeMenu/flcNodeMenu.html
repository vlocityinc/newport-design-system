<template>
    <builder_platform_interaction-flc-menu>
        <div
            class="node-menu-header slds-border_bottom slds-dropdown__header"
            role="separator"
            slot="header"
            title="Menu Sub Heading"
        >
            <lightning-button
                class="slds-float_right test-cancel-button"
                label="Cancel"
                title="Cancel"
                variant="base"
                onclick={handleCancelButtonClick}
            ></lightning-button>
            <div class="slds-m-top_x-large">
                <h3 class="slds-text-heading_small slds-truncate test-header-label">
                    {menuConfiguration.header.label}
                </h3>
                <p class="slds-text-body_regular slds-truncate test-header-description">
                    {menuConfiguration.header.description}
                </p>
            </div>
        </div>

        <div if:true={menuConfiguration.body} slot="body">
            <ul if:true={isBaseActionMode} class="body slds-dropdown__divst" role="menu">
                <template for:each={menuConfiguration.body.nodeActions} for:item="action">
                    <li
                        class="slds-dropdown__item"
                        data-value={action.value}
                        key={action.value}
                        role="presentation"
                        onclick={handleSelectNodeAction}
                    >
                        <a role="menuitem" tabindex="0">
                            <span class="slds-media__figure slds-m-right_x-small">
                                <lightning-icon
                                    icon-name={action.icon}
                                    size="x-small"
                                    variant={action.iconVariant}
                                ></lightning-icon>
                            </span>
                            <span class="slds-media__body">
                                {action.label}
                            </span>
                        </a>
                    </li>
                </template>
            </ul>

            <div if:true={isDeleteBranchElementMode} class="slds-p-around_x-small">
                <lightning-combobox
                    label="Which outcome path would you like to keep?"
                    options={conditionOptions}
                    value={selectedConditionValue}
                    onchange={handleComboboxChange}
                ></lightning-combobox>
            </div>
        </div>

        <div if:true={menuConfiguration.footer} class="slds-border_top slds-p-around_small test-footer" slot="footer">
            <lightning-button
                label={menuConfiguration.footer.buttonText}
                icon-name={menuConfiguration.footer.buttonIcon}
                icon-position={menuConfiguration.footer.buttonIconPosition}
                variant={menuConfiguration.footer.buttonVariant}
                onclick={handleFooterButtonClick}
            ></lightning-button>
        </div>
    </builder_platform_interaction-flc-menu>
</template>
