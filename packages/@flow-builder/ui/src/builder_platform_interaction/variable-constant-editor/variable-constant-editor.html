<template>
    <div if:true={variableResource}>
        <div class="slds-form slds-form_compound slds-p-around_small">
            <builder_platform_interaction-label-description dev-name={variableResource.name}
                                                            guid={variableResource.guid}
                                                            description={variableResource.description}
                                                            hide-label=true
                                                            onpropertychanged={handlePropertyChanged}>
            </builder_platform_interaction-label-description>

            <builder_platform_interaction-data-type-picker
                available-data-types={dataTypeList}
                type-and-collection-disabled={isFieldDisabled}
                allow-scale
                allow-collection
                required
                help-text={dataTypeHelpText}
                collection-help-text={collectionHelpText}
                combobox-error-message={variableResource.dataType.error}
                value={dataTypePickerValue}
                onvaluechanged={handleDataTypeChanged}>
            </builder_platform_interaction-data-type-picker>

            <div if:true={hasDefaultValue} class="default-value slds-form-element__row">
                <builder_platform_interaction-ferov-resource-picker
                    class="slds-size_1-of-1"
                    value={defaultValue}
                    error-message={variableResource.defaultValue.error}
                    combobox-config={defaultValueComboboxConfig}
                    property-editor-element-type={variableResource.elementType}
                    element-param={variableResource}
                    oncomboboxstatechanged={handleDefaultValuePropertyChanged}>
                </builder_platform_interaction-ferov-resource-picker>
            </div>

            <div if:true={hasObjectType} class="slds-form-element__row">
                <!-- TODO: use labels W-4813532-->            
                <builder_platform_interaction-entity-resource-picker
                    class="slds-form-element slds-size_1-of-2"
                    combobox-config={entityComboboxConfig}
                    value={objectType}
                    oncomboboxstatechanged={handleObjectTypeChange}
                    onitemselected={handleObjectTypeSelect}>
                </builder_platform_interaction-entity-resource-picker>
            </div>
            
            <div class="slds-form-element__row">
                <!-- TODO: Add field-level-help={externalAccessHelpText} once W-4972926 is fixed. Tracking bug W-4981924 -->
                <lightning-checkbox-group 
                    class="slds-form-element"
                    label={externalAccessLabel}
                    value={externalAccessValue}
                    options={externalAccessOptions}
                    onchange={handleExternalAccessPropertyChanged}
                    onblur={handleExternalAccessOnBlur}>
                </lightning-checkbox-group>
            </div>
            
        </div>
    </div>
</template>