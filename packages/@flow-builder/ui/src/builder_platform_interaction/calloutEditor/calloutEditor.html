<template>
    <div class="callout_editor slds-grid">
        <template if:true={showLeftPanel}>
            <div class='slds-panel slds-size_small slds-panel_docked-left slds-is-open' aria-hidden='false'>
                <div class='slds-shrink-none slds-grid_vertical-align-end slds-p-horizontal_small slds-p-top_small'>
                    <lightning-combobox label={labels.filterByTitle} onchange={handleFilterByChange}
                        value={selectedFilterBy} options={filterByOptions} dropdown-alignment="auto">
                    </lightning-combobox>
                </div>
                <div class='slds-scrollable_y slds-grid slds-grid_vertical slds-grow slds-m-top_medium'>
                    <lightning-vertical-navigation selected-item={selectedCategory} onselect={handleCategorySelect}>
                        <template for:each={categoryOptions} for:item="categoryOption">
                            <lightning-vertical-navigation-item key={categoryOption.name} label={categoryOption.label}
                                name={categoryOption.name}>
                            </lightning-vertical-navigation-item>
                        </template>
                    </lightning-vertical-navigation>
                </div>
            </div>
        </template>
        <div class="slds-col slds-grid slds-grid_vertical">
            <div class='slds-grid slds-grid_align-center'>
                <builder_platform_interaction-action-selector class="slds-col slds-size_2-of-3"
                    selected-action={selectedAction} error-message={selectedActionError}
                    invocable-actions={invocableActions} invocable-actions-fetched={invocableActionsFetched}
                    selected-category={selectedCategory} selected-filter-by={selectedFilterBy}
                    onactionsloaded={handleActionsLoaded} onvaluechanged={handleActionSelected}
                    oncannotretrieveactions={handleCannotRetrieveActions} flow-process-type={flowProcessType}>
                </builder_platform_interaction-action-selector>
            </div>
            <builder_platform_interaction-callout-editor-container class="slds-p-top_small" location={location}
                selected-action={selectedAction} oncannotretrievecalloutparameters={handleCannotRetrieveParameters}
                has-actions={hasActions} filter-by={selectedFilterBy}
                invocable-actions-fetched={invocableActionsFetched}>
            </builder_platform_interaction-callout-editor-container>
        </div>
    </div>
</template>