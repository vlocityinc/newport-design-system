<template>
    <div if:true={field}>
        <div class='slds-p-horizontal_small slds-p-top_x-small'>
             <!--  field label and unique name -->
             <builder_platform_interaction-label-description layout-mode='vertical'
                                                             label={field.fieldText}
                                                             label-optional=true
                                                             dev-name={field.name}
                                                             hide-description
                                                             guid={field.guid}
                                                             onpropertychanged={handlePropertyChanged}> 
            </builder_platform_interaction-label-description>                          

            <!--  Required checkbox -->
            <builder_platform_interaction-screen-property-field if:false={isCheckbox}
                                                                name='isRequired' 
                                                                label={labels.required}
                                                                type='boolean'
                                                                value={field.isRequired}
                                                                onpropertychanged={handlePropertyChanged}>
            </builder_platform_interaction-screen-property-field>

            <!--  default value with resource picker -->
            <builder_platform_interaction-screen-property-field name={field.defaultValue}
                                                                label={labels.fieldDefaultValue}
                                                                type='long_string'
                                                                value={field.defaultValue}
                                                                onpropertychanged={handleDefaultValueChanged}>
            </builder_platform_interaction-screen-property-field>
        </div>
        <div>
            <lightning-accordion allow-multiple-sections-open active-section-name={allSectionNames} class='slds-has-divider slds-p-top_none'>
                <!--  validation text -->
                <lightning-accordion-section name='validationOptions' label={labels.fieldValidation}>
                    <builder_platform_interaction-screen-property-field name='errorMessage'
                                                                        label={labels.errorMessage}
                                                                        type='long_string'
                                                                        value={validationRuleError}
                                                                        hide-top-padding
                                                                        onpropertychanged={handleErrorMessageChanged}>
                    </builder_platform_interaction-screen-property-field>
                    
                    <!-- TODO: W-5183123 - change this to formula-editor component -->
                    <builder_platform_interaction-screen-property-field name='formulaExpression'
                                                                        label={labels.validationFormula}
                                                                        type='long_string'
                                                                        value={validationRuleFormula}>
                    </builder_platform_interaction-screen-property-field>
                </lightning-accordion-section>
                
                <!--  help text -->
                <lightning-accordion-section name='helpText' label={labels.helpText}>
                    <builder_platform_interaction-screen-property-field name='helpText'
                                                                        label={labels.helpText}
                                                                        type='long_string'
                                                                        value={helpTextValue}
                                                                        hide-top-padding>
                    </builder_platform_interaction-screen-property-field>
                </lightning-accordion-section>
            </lightning-accordion>
        </div>
    </div>
</template>