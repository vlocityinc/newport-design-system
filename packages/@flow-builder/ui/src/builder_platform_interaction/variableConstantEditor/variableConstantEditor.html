<template>
    <div if:true={variableConstantResource}>
        <div class="slds-form slds-form_compound slds-p-around_small">
            <builder_platform_interaction-label-description
                dev-name={variableConstantResource.name}
                guid={variableConstantResource.guid}
                description={variableConstantResource.description}
                hide-label="true"
                onpropertychanged={handlePropertyChanged}
            >
            </builder_platform_interaction-label-description>

            <builder_platform_interaction-data-type-picker
                available-data-types={dataTypeList}
                type-and-collection-disabled={isFieldDisabled}
                allow-scale={isVariable}
                allow-collection={isVariable}
                required
                help-text={dataTypeHelpText}
                collection-help-text={collectionHelpText}
                combobox-error-message={variableConstantResource.dataType.error}
                value={dataTypePickerValue}
                onvaluechanged={handleDataTypeChanged}
            >
            </builder_platform_interaction-data-type-picker>

            <div
                if:true={hasDefaultValue}
                class="default-value slds-form-element__row"
            >
                <builder_platform_interaction-ferov-resource-picker
                    class="slds-size_1-of-1"
                    value={defaultValue}
                    error-message={variableConstantResource.defaultValue.error}
                    row-index={_ferovUniqueId}
                    combobox-config={defaultValueComboboxConfig}
                    property-editor-element-type={variableConstantResource.elementType}
                    element-param={defaultValueElementParam}
                    rules={rulesForVariableDefaultValue}
                    hide-system-variables={isConstant}
                    hide-new-resource={hideNewResourceButton}
                    oncomboboxstatechanged={handleDefaultValuePropertyChanged}
                    onnewinlineresource={handleDefaultValuePropertyChanged}
                >
                </builder_platform_interaction-ferov-resource-picker>
            </div>

            <div if:true={isComplexDataType} class="slds-form-element__row">
                <builder_platform_interaction-entity-resource-picker
                    class="slds-form-element slds-size_1-of-2"
                    combobox-config={entityComboboxConfig}
                    value={subtype}
                    row-index={_entityUniqueId}
                    mode={entityMode}
                    oncomboboxstatechanged={handleSubtypeChange}
                    onitemselected={handleSubtypeSelect}
                >
                </builder_platform_interaction-entity-resource-picker>
            </div>

            <div
                if:true={isExternallyAccessible}
                class="slds-form-element__row"
            >
                <!-- TODO: Add field-level-help={externalAccessHelpText} once W-4972926 is fixed. Tracking bug W-4981924 -->
                <lightning-checkbox-group
                    class="slds-form-element"
                    label={externalAccessLabel}
                    value={externalAccessValue}
                    options={externalAccessOptions}
                    onchange={handleExternalAccessPropertyChanged}
                    onblur={handleExternalAccessOnBlur}
                >
                </lightning-checkbox-group>
            </div>
        </div>
    </div>
</template>
