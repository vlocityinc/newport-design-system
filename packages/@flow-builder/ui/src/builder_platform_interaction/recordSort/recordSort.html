<template>
    <div class="slds-m-bottom_small slds-border_top">
        <h3 class="slds-text-heading_small slds-p-left_small slds-p-top_small">{headerText}</h3>
        <div class="slds-card slds-no-flex">
            <div class="slds-grid slds-p-around_small">
                <lightning-combobox label={labels.sortOrderLabel}
                value={sortOrder}
                options={sortOrderOptions}
                onchange={handleSortOrderChanged}
                dropdown-alignment="auto"
                class="slds-size_x-small types">
            </lightning-combobox>
            <builder_platform_interaction-field-picker if:true={showFieldSelector}
                class="sortField slds-m-left_small slds-size_small types"
                label={labels.sortByFieldLabel}
                placeholder={labels.selectFieldToSortResultLabel}
                error-message={sortFieldError}
                value={selectedField}
                fields={fields}
                oncomboboxstatechanged={handleSelectedFieldChanged}
                show-activity-indicator={loadingFields}
                required>
            </builder_platform_interaction-field-picker>
            <div if:false={showFieldSelector} class="slds-m-left_small slds-p-top_x-large slds-text-body_small slds-text-color_weak helpText">
                <lightning-icon icon-name="utility:warning" title={labels.warning} alternative-text={labels.warning} variant="warning" size="x-small" 
                class="slds-m-right_x-small">
                </lightning-icon>
                {labels.sortOrderNotSortedHelp}
            </div>
            </div>
        </div>
    </div>
</template>