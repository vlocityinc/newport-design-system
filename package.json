{
    "name": "automation-builder",
    "version": "1.0.0",
    "description": "Builders and Components",
    "private": true,
    "publishConfig": {
        "registry": "https://nexus.soma.salesforce.com/nexus/content/groups/npm-all/"
    },
    "config": {
        "auraVersion": "0.6000.2725",
        "lwcVersion": "1.7.0",
        "lwcApiVersion": "0.228.8",
        "branch": "main"
    },
    "scripts": {
        "check:goldFiles": "./scripts/checkGoldFiles.sh -b $npm_package_config_branch",
        "check:pom": "node ./scripts/pom.js check -b $npm_package_config_branch",
        "check:pr": "yarn clean:build && yarn test:unit && yarn ci:lint",
        "check:push": "yarn check:pom && yarn test:nba-components && yarn check:goldFiles -l",
        "clean:build": "yarn clean && yarn build",
        "clean:test": "yarn clean:build && yarn test:unit",
        "clean:start": "yarn clean:build && yarn start",
        "clean:install": "rm -rf node_modules && yarn",
        "clean": "rm -rf src/main/modules && lerna run clean",
        "clean:force": "git clean -xfd && yarn clean",
        "ci:lint": "lerna run lint",
        "format": "prettier --write '{docs,src,packages}/**/*.{css,js,json,ts,md,html}'",
        "ci:prettify": "prettier --check '{docs,src,packages}/**/*.{css,js,json,ts,md,html}'",
        "build:packages": "lerna run build --stream",
        "build:core": "node ./scripts/npm2lwc.js packages src/main/modules --core ",
        "build:poc": "node ./scripts/npm2lwc.js packages packages/flow-builder-pocs/build && lerna run build:poc",
        "build:dev": "lerna run build:dev --stream && yarn build:core",
        "build:all": "yarn build:packages && yarn build:core && yarn build:poc",
        "build": "yarn build:packages && yarn build:core",
        "serve": "lerna run start --stream",
        "start": "run-p watch:poc serve watch watch:core",
        "test:nba-components": "./scripts/testNbaComponents.sh -b $npm_package_config_branch",
        "watch:poc": "node ./scripts/npm2lwc.js packages packages/flow-builder-pocs/build/ --watch",
        "watch": "lerna run watch --parallel",
        "watch:core": "yarn build:core && node ./scripts/npm2lwc.js packages src/main/modules --watch --core",
        "test:unit": "lerna exec -- yarn run test",
        "test:unit:auto-layout-canvas": "lerna exec --scope @flow-builder/auto-layout-canvas -- yarn run test",
        "test:unit:coverage": "lerna exec --scope @flow-builder/ui -- yarn run coverage",
        "test:unit:coverage:clean": "rm -rf coverage",
        "test:unit:jestreport:clean": "rm -rf jest-report",
        "test:unit:clean": "yarn test:unit:coverage:clean && yarn test:unit:jestreport:clean",
        "test:unit:ci:coverage": "yarn run test:unit:coverage && yarn run test:unit:auto-layout-canvas",
        "test:update-snapshots": "lerna run test:update-snapshots --stream",
        "generate:sfdc-components-package": "node ./scripts/generateNpmPackage.js",
        "release:sfdc-components-package": "cd dist/builder-platform-interaction-components && npm publish --verbose --registry=https://nexus-proxy-prd.soma.salesforce.com/nexus/content/repositories/npmjs-internal/",
        "update:auraPomVersion": "mvn versions:update-property -Dproperty=aura.version -DnewVersion=[$npm_package_config_auraVersion] -DallowDowngrade=true -DgenerateBackupPoms=false",
        "update:goldFiles": "./scripts/updateGoldFiles.sh -b $npm_package_config_branch",
        "update:labels": "node ./scripts/labels/update-labels.js --labelFile ~/blt/app/$npm_package_config_branch/core/shared-labels/java/resources/sfdc/i18n/shared_core_ui_labels/ui-interaction-builder-components.xml --targetDir ./packages/flow-builder-pocs/src/demo-app/labels/ --jsonDir ./labels/ && node ./scripts/labels/update-labels.js --labelFile ~/blt/app/main/core/shared-labels/java/resources/sfdc/i18n/shared_core_ui_labels/lightning-global-components.xml --targetDir ./packages/flow-builder-pocs/src/demo-app/labels/ --jsonDir ./labels/",
        "update:lwcPomVersion": "mvn versions:update-property -Dproperty=lwc.version -DnewVersion=[$npm_package_config_lwcVersion] -DallowDowngrade=true -DgenerateBackupPoms=false",
        "update:lwcPackages": "node ./scripts/updateLwcVersions && yarn install",
        "update:syncPomToCore": "node ./scripts/pom sync -b $npm_package_config_branch",
        "update:versions": "yarn update:lwcPomVersion && yarn update:auraPomVersion && yarn update:lwcPackages",
        "utils:copy-to-nba": "./scripts/copyToNba.sh -b $npm_package_config_branch",
        "postinstall": "./scripts/fix-lwc-testrunner.sh"
    },
    "repository": {
        "type": "git",
        "url": "git@git.soma.salesforce.com:automation-platform/automation-platform/ui-interaction-builder-components.git"
    },
    "devDependencies": {
        "@babel/core": "^7.10.4",
        "@babel/preset-env": "^7.10.4",
        "@babel/preset-typescript": "^7.10.4",
        "@lwc/compiler": "1.7.0",
        "@lwc/engine": "1.7.0",
        "@lwc/errors": "1.7.0",
        "@lwc/jest-preset": "7.0.0",
        "@lwc/jest-resolver": "7.0.0",
        "@lwc/module-resolver": "1.7.0",
        "@lwc/rollup-plugin": "1.7.0",
        "@lwc/synthetic-shadow": "1.7.0",
        "@lwc/wire-service": "1.7.0",
        "@rollup/plugin-babel": "^5.0.0",
        "@rollup/plugin-commonjs": "^11.1.0",
        "@rollup/plugin-json": "^4.0.2",
        "@rollup/plugin-node-resolve": "^7.1.3",
        "@rollup/plugin-replace": "^2.3.1",
        "@salesforce/eslint-config-lwc": "^0.7.0",
        "@types/jest": "^26.0.8",
        "@typescript-eslint/eslint-plugin": "^3.7.1",
        "@typescript-eslint/parser": "^3.7.1",
        "await-exec": "^0.1.2",
        "babel-jest": "^26.2.2",
        "chalk": "^3.0.0",
        "concurrently": "^5.0.2",
        "dotenv": "^8.2.0",
        "eslint": "^6.8.0",
        "eslint-config-prettier": "^6.11.0",
        "eslint-plugin-eslint-comments": "^3.2.0",
        "eslint-plugin-lwc-core": "^2.0.13",
        "eslint-plugin-prettier": "^3.1.4",
        "fs-extra": "^9.0.1",
        "husky": "^4.2.1",
        "jest": "25.5.4",
        "jest-html-reporter": "3.1.03",
        "lerna": "3.22.1",
        "lint-staged": "^10.0.7",
        "lwc-testrunner": "4.3.2",
        "node-watch": "^0.6.4",
        "npm-run-all": "^4.1.5",
        "p4api": "^3.3.1",
        "prettier": "2.0.5",
        "rollup": "^1.31.0",
        "rollup-plugin-terser": "^5.3.0",
        "semver": "^7.1.1",
        "tslint": "^5.20.1",
        "typescript": "~3.9.7",
        "xml2js": "^0.4.23",
        "yargs": "^15.1.0"
    },
    "workspaces": [
        "packages/@flow-builder/auto-layout-canvas",
        "packages/@flow-builder/auto-layout-canvas-ui",
        "packages/@flow-builder/ui",
        "packages/flow-builder-pocs"
    ],
    "engines": {
        "node": ">=12.16.2 <13.0.0",
        "yarn": ">=1.3.2"
    },
    "volta": {},
    "husky": {
        "hooks": {
            "pre-commit": [
                "node ./scripts/genTsConfig.js && git add **/tsconfig.json && lint-staged "
            ],
            "pre-push": [
                "yarn check:pom && yarn test:nba-components && yarn check:goldFiles -l"
            ]
        }
    },
    "lint-staged": {
        "*.{js,ts,css,json,yaml,md,html}": [
            "prettier --write"
        ],
        "!(scripts|src)/**/*.ts": [
            "eslint --fix --max-warnings 0"
        ]
    }
}
