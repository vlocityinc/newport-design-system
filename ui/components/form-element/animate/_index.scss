// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license


/**
 * @summary Custom animation with label on input focus
 *
 * @name animate
 * @selector .nds-form-element__control-animated-label
 * @restrict .nds-form-element__control
 * @variant
 */
.nds-form-element__control-animated-label {
	font-size: 0.875rem;
	position: relative;
	margin-top: 0.75rem;
}

.nds-form-element__label {
	color: $color-input-font-kashmiri-blue;
}

.nds-input {
	font-size: 0.875rem;
	letter-spacing: 1px;
	font-weight: 400;
}

input[placeholder]::placeholder {
	color:transparent !important;
}

.nds-form-element__control.nds-form-element__control-animated-label .nds-form-element__label {
	top: 0.25rem;
	#{$left}: 0;
	position: absolute;
	width: 100%;
	#{$right}: 0;
	overflow: hidden;
	text-overflow: ellipsis;
	pointer-events: none;
	white-space: nowrap;
	font-weight: 400;
	font-size: 0.875rem;
	letter-spacing: 1px;
	color: $color-input-font-kashmiri-blue;
}

.nds-form-element__control.nds-form-element__control-animated-label input:focus ~ label,
.nds-form-element__control.nds-form-element__control-animated-label input.nds-has-value:not(:focus):valid ~ label,
.nds-form-element__control.nds-form-element__control-animated-label input.ng-dirty.ng-not-empty ~ label,
.nds-form-element__control.nds-form-element__control-animated-label input.ng-dirty.ng-not-empty + label,
.nds-form-element__control.nds-form-element__control-animated-label input[cloned='dirty'] + label,
.nds-form-element__control.nds-form-element__control-animated-label input.nds-input[cloned='dirty'] ~ label,
.nds-form-element__control.nds-form-element__control-animated-label input.nds-input.ng-dirty.ng-not-empty.ng-touched[vlc-nds-lookup-control] ~ label,
.nds-form-element__control.nds-form-element__control-animated-label input.ng-touched.ng-not-empty.td-input + label {
	-webkit-transform: translate3d(0, -1.2rem, 0);
	transform: translate3d(0, -1.2rem, 0);
	-webkit-transition-duration: 300ms;
	transition-duration: 300ms;
	z-index: 0;
	font-size: 0.75rem;
	font-weight: 300;
	top: 0.4rem;
	#{$left}: 0;
 }

.nds-form-element__control.nds-form-element__control-animated-label input:focus ~ label,
.nds-form-element__control.nds-form-element__control-animated-label input:focus ~ label .nds-required {
	color: $color-border-input-active;
}

.nds-form-element__control.nds-input-has-icon svg.nds-icon {
	fill: $color-input-icon-blue-hue;
}


.nds-form-element__control.nds-input-has-icon.nds-input-has-icon_left.nds-form-element__control-animated-label .nds-form-element__label,
.nds-form-element__control.nds-input-has-icon.nds-input-has-icon_left-right.nds-form-element__control-animated-label .nds-form-element__label {
	#{$left}: 1.25rem;
}


.nds-form-element__control.nds-input-has-icon.nds-input-has-icon_left.nds-form-element__control-animated-label input:focus ~ label,
.nds-form-element__control.nds-input-has-icon.nds-input-has-icon_left-right.nds-form-element__control-animated-label input:focus ~ label,
.nds-form-element__control.nds-input-has-icon.nds-input-has-icon_left.nds-form-element__control-animated-label input:not(:focus):valid ~ label {
	#{$left}: 0;
}

.nds-form-element__control.nds-form-element__control-animated-label input[readonly] ~ label {
	-webkit-transform: translate3d(0, -1.2rem, 0);
	transform: translate3d(0, -1.2rem, 0);
	top: 0.4rem;
	#{$left}: 0;
}

.nds-form-element__control.nds-form-element__control-animated-label input[type="email"].ng-dirty.ng-invalid, 
.nds-form-element__control.nds-form-element__control-animated-label input[type="password"].ng-dirty.ng-invalid, 
.nds-form-element__control.nds-form-element__control-animated-label input[type="tel"].ng-dirty.ng-invalid, 
.nds-form-element__control.nds-form-element__control-animated-label input[type="text"].ng-dirty.ng-invalid, 
.nds-form-element__control.nds-form-element__control-animated-label input[type="url"].ng-dirty.ng-invalid, 
.nds-form-element__control.nds-form-element__control-animated-label textarea.ng-dirty.ng-invalid {
	border-bottom: 1px solid $color-border-error;
	border-image: initial;
}

.nds-form-element__control.nds-form-element__control-animated-label input[type="text"].ng-dirty.ng-valid.ng-not-empty + label span, 
.nds-form-element__control.nds-form-element__control-animated-label input[type="email"].ng-dirty.ng-valid.ng-not-empty + label span, 
.nds-form-element__control.nds-form-element__control-animated-label input[type="password"].ng-dirty.ng-valid.ng-not-empty + label span, 
.nds-form-element__control.nds-form-element__control-animated-label input[type="url"].ng-dirty.ng-valid.ng-not-empty + label span, 
.nds-form-element__control.nds-form-element__control-animated-label input[type="tel"].ng-dirty.ng-valid.ng-not-empty+ label span, 
.nds-form-element__control.nds-form-element__control-animated-label textarea.ng-dirty.ng-valid.ng-not-empty + label span {
	color: $color-valid-control;
}

.nds-has-error .nds-form-element__help {
	letter-spacing: 1px;
	color: $color-border-error;
	font-size: 0.75rem;
	font-weight: 400;
	text-transform: capitalize;
	margin-top: 0.625rem;
 }

.nds-form-element__control-animated-label .nds-control-action__container {
	top: 0.25rem;
}

.nds-control-action__container svg[disabled=disabled] {
	pointer-events: none;
	opacity: 0.5;
}

.nds-form-element__control-animated-label + .nds-form-element__control-help,
.nds-form--multi-input__container + .nds-form-element__control-help,
.nds-select-wrapper + .nds-form-element__control-help {
	visibility: hidden;
	opacity: 0;
	margin-top: -2px;
	transition: visibility 2s, opacity 0.5s linear;
	position: absolute;
}

.nds-input__tooltip .nds-form-element__control-help.helptext-focus {
	visibility: visible;
	opacity: 1;
}

.nds-form-element__control-animated-label .nds-input:disabled + label {
	opacity: 0.5;
}