// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

/**
 * @summary Initializes Knowledge block
 *
 * @name base
 * @selector .nds-knowledge-block
 * @restrict div
 * @required
 * @variant
 */
.nds-knowledge-block {
  position: absolute;
  top: 16.625rem;
  right: -0.5rem;
  width: 30%;
  background: white;
  bottom: 0;

  .nds-right_panel {
    height: 100%;

    div.nds-col {
      height: 100%;
    }
  }

  .nds-lookup.nds-knowledge-component {
    height: 100%;

    & > label.nds-form-element__label {
      font-size: 0.875rem;
      margin-bottom: 1rem;
      position: absolute;
      transform: rotate(270deg);
      border: 1px solid $color-grey-shaded;
      right: -3.75rem;
      padding: 0.3125rem 0.9375rem;
      margin: 0;
      top: 6.25rem;
      width: 150px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    .nds-input-has-icon_left {
      input#vlcKnowledgeKeyword {
        border-bottom: none;
        border: 1px solid $color-border-input;
        border-radius: 0.25rem;
        padding-left: 2rem;
      }

      svg {
        margin-left: 0.5rem;
        opacity: 0.5;
      }
    }

    .nds-knowledge-item {
      .nds-item .nds-knowledge-list-item {
        a.nds-knowledge-item_popup {
          &:focus {
            outline: none;
          }

          svg {
            fill: $color-icon-grey;
            width: 1rem;
            height: 1rem;

            &:hover + small {
              display: inline;
            }
          }

          small {
            display: none;
            position: absolute;
            top: -0.8rem;
            flex-wrap: wrap;
            right: -1rem;
            color: $color-light-border;
          }
        }

        .nds-control-action_container {
          margin-bottom: 0.5rem;
          margin-top: 1rem;
          position: relative;

          .nds-knowledge-item_heading {
            width: 100%;
            color: $color-blue-text-secondary;
            font-size: 1rem;
            cursor: pointer;

            &:hover {
              text-decoration: underline;
            }

            &:focus {
              outline: none;
            }
          }
        }        
      }

      h3 {
        color: $color-light-border;
      }
    }


    .nds-knowledge-data_wrapper {
      position: relative;
      border-left: 2px solid $color-grey-shaded;
      border-top: 2px solid $color-grey-shaded;
      height: 100%;
      padding: 1.25rem;

      .nds-knowledge-data_wrapper-search {
        position: relative;

        svg {
          fill: $color-icon-grey;
        }
      }
    }

    .nds-knowledge-data_cont {
      position: relative;

      svg.nds-input__icon {
        top: 0.75rem;
        right: 0;
        cursor: pointer;
      }
    }

    .nds-form-element__label {
      font-size: 0.875rem;
      margin-bottom: 1rem;
    }

  }
}


.nds-modal_knowledge {
  .nds-icon_small {
    position: absolute;
    right: 1rem;
    fill: $color-blue-font;
    top: 1.5rem;
    width: 1.25rem;
    height: 1.25rem;
  }

  .nds-modal__container {
    .nds-modal__header {
      background-color: $card-color-background;
      color: $color-blue-font; 
      border-top-right-radius: 0;
      border-top-left-radius: 0;
      border-bottom: none;

      .modal-title {
        font-size: 1.375rem;
        text-align: left;
        font-weight: bold;
      }
    }

    .nds-modal__footer {
      border-top: none;
      border-bottom-right-radius: 0;
      border-bottom-left-radius: 0;
      background-color: $color-border-tab-active;

      button.btn-primary {
        background-color: $color-blue-font;
        color: $color-border-tab-active;
        padding: 0.75rem 3.125rem;
        border-radius: 0.1rem;
      }
    }    
  }
}